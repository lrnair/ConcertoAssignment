<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stock List</title>
    <link rel="stylesheet" href="css/styles.css" />
    <script src="js/main.js"></script>
</head>
<body>
    <div class="header-row">
        <h1>Stock List</h1>
        <a href="#create" class="new-item-btn" id="create-item-btn">Create New Item (+)</a>
    </div>

    <div class="table-container">
        <table class="stock-table">
            <thead>
                <tr>
                    <th>Ref</th>
                    <th>Item Name</th>
                    <th>Original Price</th>
                    <th>Current Price</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="stock-table-body">
            </tbody>
        </table>
    </div>

    <hr />

    <div class="view-item" id="view-item-section" style="display: none;">
        <div class="view-header">
            <h2>View Item</h2>
            <button class="edit-btn" id="edit-item-btn">Edit</button>
        </div>
        <div class="view-details">
            <table class="info-table" id="view-item-table">
                <tr>
                    <td><strong>ID:</strong></td>
                    <td id="item-id"></td>
                </tr>
                <tr>
                    <td><strong>Reference:</strong></td>
                    <td id="item-reference"></td>
                </tr>
                <tr>
                    <td><strong>Name:</strong></td>
                    <td id="item-name"></td>
                </tr>
                <tr>
                    <td><strong>Price:</strong></td>
                    <td id="item-price"></td>
                </tr>
            </table>
        </div>
        <div class="view-variations">
            <h3>Variations:</h3>
            <table class="info-table variations-table" id="view-variations-table">
            </table>
        </div>
    </div>

    <div id="create-item-section" style="display: none;">
        <h2>Create New Item</h2>
        <form id="create-form">
            <label for="reference">Reference:</label>
            <input type="text" id="create-reference" name="reference" required>
            <span class="error-message" id="error-create-reference"></span>

            <label for="name">Name:</label>
            <input type="text" id="create-name" name="name" required>
            <span class="error-message" id="error-edit-name"></span>

            <label for="price">Price:</label>
            <input type="number" id="create-price" name="price" step="1" min="0" required>
            <span class="error-message" id="error-create-price"></span>

            <h3>Variations:</h3>

            <div class="variation-controls">
                <button type="button" id="create-add-variation-btn">+ Variation</button>
                <button type="button" id="create-remove-variation-btn">- Variation</button>
            </div>

            <div id="create-variation-rows">
            </div>

            <button type="submit" class="submit-btn" id="create-submit-btn">Create Item</button>
        </form>
    </div>

    <div id="edit-item-section" style="display: none;">
        <h2>Edit Item</h2>
        <form id="edit-form">
            <label>ID:</label>
            <input type="text" id="edit-id" name="id" disabled>

            <label>Reference:</label>
            <input type="text" id="edit-reference" name="reference" required>
            <span class="error-message" id="error-edit-reference"></span>

            <label>Name:</label>
            <input type="text" id="edit-name" name="name" required>
            <span class="error-message" id="error-edit-name"></span>

            <label>Price:</label>
            <input type="number" id="edit-price" name="price" step="1" min="0" required>
            <span class="error-message" id="error-edit-price"></span>

            <h3>Variations:</h3>
            <div id="edit-variation-rows">
            </div>

            <div class="variation-controls">
                <button type="button" id="edit-add-row-btn">+ Variation</button>
                <button type="button" id="edit-remove-row-btn">- Variation</button>
            </div>

            <button type="submit" class="submit-btn" id="edit-submit-btn">Edit</button>
        </form>
    </div>

    <div id="popup" class="popup-overlay">
        <div class="popup-content">
            <p id="popup-message"></p>
            <button id="popup-ok-btn">OK</button>
        </div>
    </div>
</body>
</html>
